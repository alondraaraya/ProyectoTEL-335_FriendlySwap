{"ast":null,"code":"var _jsxFileName = \"/home/martin/Escritorio/Control-3-Tel335/src/layout/infoPanel.layout.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport SpinnerLoader from \"../components/Spinner\";\nimport ProductList from \"../components/ProductList\";\nimport { configureStore } from \"@reduxjs/toolkit\";\nimport ProductReducer from \"../reducer/reducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst store = configureStore({\n  reducer: ProductReducer\n});\nexport const listProductsEnCarrito = [];\nexport let listProductsEnCarrito2 = [];\n\nasync function axiosTest() {\n  const response = await axios.get('http://localhost:3001/productos');\n  return response.data;\n}\n\nexport function InfoPanel() {\n  _s();\n\n  const [loaded, setDataLoaded] = useState(false);\n  const [ProductsData, setProductsData] = useState([]);\n  const [ProductsData2, setProductsData2] = useState([]);\n\n  const addProduct = product => {\n    store.dispatch({\n      type: 'ADD',\n      product\n    });\n    alert(`Producto agregado: ${product.name}`);\n    axios.post('http://localhost:3001/carrito/productos/', {\n      id: product.id\n    }).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    listProductsEnCarrito.push(product); //console.log(ProductsData2)\n\n    listProductsEnCarrito2 = axios.get('http://localhost:3001/productos');\n    console.log(listProductsEnCarrito2);\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!loaded) {\n        const result = await axios.get('http://localhost:3001/productos');\n\n        if (result.data) {\n          setDataLoaded(true);\n          setProductsData(result.data);\n        }\n      }\n    };\n\n    fetchData();\n  });\n  store.subscribe(() => {\n    console.log(store.getState());\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(SpinnerLoader, {\n      dataLoaded: loaded\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProductList, {\n      products: ProductsData,\n      onAdd: addProduct\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n\n_s(InfoPanel, \"13Ne+fZv6w7xUf9Xhd9deTm7uBc=\");\n\n_c = InfoPanel;\n\nvar _c;\n\n$RefreshReg$(_c, \"InfoPanel\");","map":{"version":3,"sources":["/home/martin/Escritorio/Control-3-Tel335/src/layout/infoPanel.layout.js"],"names":["useState","useEffect","axios","SpinnerLoader","ProductList","configureStore","ProductReducer","store","reducer","listProductsEnCarrito","listProductsEnCarrito2","axiosTest","response","get","data","InfoPanel","loaded","setDataLoaded","ProductsData","setProductsData","ProductsData2","setProductsData2","addProduct","product","dispatch","type","alert","name","post","id","then","console","log","catch","error","push","fetchData","result","subscribe","getState"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,uBAA1B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,OAAOC,cAAP,MAA2B,oBAA3B;;AAGA,MAAMC,KAAK,GAAGF,cAAc,CAAC;AACzBG,EAAAA,OAAO,EAAEF;AADgB,CAAD,CAA5B;AAIA,OAAO,MAAMG,qBAAqB,GAAG,EAA9B;AACP,OAAO,IAAIC,sBAAsB,GAAG,EAA7B;;AACP,eAAeC,SAAf,GAA2B;AACvB,QAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAU,iCAAV,CAAvB;AACA,SAAOD,QAAQ,CAACE,IAAhB;AACH;;AAED,OAAO,SAASC,SAAT,GAAsB;AAAA;;AACzB,QAAM,CAACC,MAAD,EAASC,aAAT,IAA0BjB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACkB,YAAD,EAAeC,eAAf,IAAkCnB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACoB,aAAD,EAAgBC,gBAAhB,IAAoCrB,QAAQ,CAAC,EAAD,CAAlD;;AAEA,QAAMsB,UAAU,GAAIC,OAAD,IAAa;AAC5BhB,IAAAA,KAAK,CAACiB,QAAN,CAAe;AAAEC,MAAAA,IAAI,EAAE,KAAR;AAAeF,MAAAA;AAAf,KAAf;AACAG,IAAAA,KAAK,CAAE,sBAAqBH,OAAO,CAACI,IAAK,EAApC,CAAL;AACAzB,IAAAA,KAAK,CAAC0B,IAAN,CAAW,0CAAX,EAAuD;AACnDC,MAAAA,EAAE,EAAEN,OAAO,CAACM;AADuC,KAAvD,EAGGC,IAHH,CAGQ,UAAUlB,QAAV,EAAoB;AACxBmB,MAAAA,OAAO,CAACC,GAAR,CAAYpB,QAAZ;AACD,KALH,EAMGqB,KANH,CAMS,UAAUC,KAAV,EAAiB;AACtBH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,KARH;AASAzB,IAAAA,qBAAqB,CAAC0B,IAAtB,CAA2BZ,OAA3B,EAZ4B,CAa5B;;AACAb,IAAAA,sBAAsB,GAAIR,KAAK,CAACW,GAAN,CAAU,iCAAV,CAA1B;AACAkB,IAAAA,OAAO,CAACC,GAAR,CAAYtB,sBAAZ;AAEH,GAjBD;;AAmBAT,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMmC,SAAS,GAAG,YAAY;AAC1B,UAAI,CAACpB,MAAL,EAAa;AACT,cAAMqB,MAAM,GAAG,MAAMnC,KAAK,CAACW,GAAN,CAAU,iCAAV,CAArB;;AACA,YAAIwB,MAAM,CAACvB,IAAX,EAAiB;AACbG,UAAAA,aAAa,CAAC,IAAD,CAAb;AACAE,UAAAA,eAAe,CAACkB,MAAM,CAACvB,IAAR,CAAf;AACH;AACJ;AACJ,KARD;;AASAsB,IAAAA,SAAS;AACZ,GAXQ,CAAT;AAaA7B,EAAAA,KAAK,CAAC+B,SAAN,CAAgB,MAAM;AAClBP,IAAAA,OAAO,CAACC,GAAR,CAAYzB,KAAK,CAACgC,QAAN,EAAZ;AACH,GAFD;AAIA,sBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACI,QAAC,aAAD;AAAe,MAAA,UAAU,EAAEvB;AAA3B;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,WAAD;AAAa,MAAA,QAAQ,EAAEE,YAAvB;AAAqC,MAAA,KAAK,EAAEI;AAA5C;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;;GA/CeP,S;;KAAAA,S","sourcesContent":["import { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport SpinnerLoader from \"../components/Spinner\"\nimport ProductList from \"../components/ProductList\"\nimport { configureStore } from \"@reduxjs/toolkit\"\nimport ProductReducer from \"../reducer/reducer\"\n\n\nconst store = configureStore({\n    reducer: ProductReducer\n  })\n\nexport const listProductsEnCarrito = []\nexport let listProductsEnCarrito2 = []\nasync function axiosTest() {\n    const response = await axios.get('http://localhost:3001/productos')\n    return response.data\n}\n\nexport function InfoPanel () {\n    const [loaded, setDataLoaded] = useState(false)\n    const [ProductsData, setProductsData] = useState([])\n    const [ProductsData2, setProductsData2] = useState([])\n\n    const addProduct = (product) => {\n        store.dispatch({ type: 'ADD', product })\n        alert(`Producto agregado: ${product.name}`)\n        axios.post('http://localhost:3001/carrito/productos/', {\n            id: product.id\n          })\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n        listProductsEnCarrito.push(product)\n        //console.log(ProductsData2)\n        listProductsEnCarrito2 =  axios.get('http://localhost:3001/productos')\n        console.log(listProductsEnCarrito2)\n\n    }\n\n    useEffect(() => {\n        const fetchData = async () => {\n            if (!loaded) {\n                const result = await axios.get('http://localhost:3001/productos')\n                if (result.data) {\n                    setDataLoaded(true)\n                    setProductsData(result.data)\n                }\n            }\n        }\n        fetchData()\n    })\n\n    store.subscribe(() => {\n        console.log(store.getState())\n    })\n\n    return (\n        <div className=\"App\">\n            <SpinnerLoader dataLoaded={loaded} />\n            <ProductList products={ProductsData} onAdd={addProduct} />\n        </div>\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}